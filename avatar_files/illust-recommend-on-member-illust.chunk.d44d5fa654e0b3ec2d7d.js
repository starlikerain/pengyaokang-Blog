bundleJsonp([18],{487:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n.n(o),r=n(511),l=n(1),a=n(16);t.default={options:{count:12},recommendations:null,container:null,listContainer:null,setup:function(e){var t=this.container=i()("#illust-recommend");t.length&&(e&&Object.assign(this.options,e),this.listContainer=i()("ul._image-items",t),this.load())},load:function(){var e=this,t={cache:864e5};(this.recommendations?i.a.Deferred().resolve():a.b.illust(l.a.context.illustRecommendSampleIllust,l.a.context.illustRecommendLimit,t).then(function(t){return t&&t.error?i.a.Deferred().reject():(e.recommendations=t?t.recommendations:[],e.recommendations.length?void 0:i.a.Deferred().reject())})).then(function(){var n=e.recommendations.splice(0,e.options.count+10);return n.length?a.c(n,void 0,t):void e.loadingContainer.hide()}).done(function(t){if(t&&!t.error){for(var n=t.length-1;n>0;n--){var o=Math.floor(Math.random()*(n+1)),l=t[o];t[o]=t[n],t[n]=l}i()(r.default.template("illust-recommend-list-item",{items:t.splice(0,e.options.count)})).appendTo(e.listContainer),e.container.toggleClass("hide")}})}}}});